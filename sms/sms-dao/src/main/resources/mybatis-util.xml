<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="util" >

	<!-- 分页 -->
	<sql id="page">
		<if test="startRec!=null and pageSize!=null and pageSize>0">
			limit #{startRec},#{pageSize}
		</if>
	</sql>

	<!-- 排序 -->
	<sql id="order">
		<choose>
		    <when test="sort != null and sort != '' and  order !=null and order!='' ">
			    order by ${sort} ${order} 
			</when>
		    <when test="sort != null and sort != ''">
			    order by ${sort} 
			</when>
			<otherwise>
				<if test="createDate != null">
					order by create_date desc
				</if>
			</otherwise>
		</choose>
	</sql>
	
	<!-- 排序+分页 -->
	<sql id="order_page">
		<include refid="util.order"/>
		<include refid="util.page"/>
	</sql>
</mapper>